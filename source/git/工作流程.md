## 工作流程

### 创建仓库
```git init```

### 忽略文件
创建".gitignore"文件决定哪些文件不要被记录到.<br />
[这里](https://github.com/github/gitignore)是常见的gitignore的模板

一些规则:

- 忽略一个特定的文件：给出从项目根目录开始的路径和文件名，例如：path/to/file.ext 。
- 忽略项目下所有这个名字的文件：只要给出文件的全名，不要包括任何路径，例如 filename.ext 。
- 忽略项目下所有这个类型的文件：例如 *.ext 。
- 忽略一个特定目录下的所用文件：例如　path/to/folder/* 。

### 完成提交

```
git add -A
git commit -m "注释"
git rm xxx
git add file1 file2 css/*
```

### 文件状态
1. tracked
    - 已追踪的文件
2. untracked
    - 未被追踪的文件

3. 暂存区
    - 一次提交(commit)应该只包含一个功能的修改
    - 但实际上一次修改很难做到指关注一个功能, 所有暂存区的作用就是**手动**把属于同一功能的修改打包提交(stage), 然后提交.

4. 查看当前状态
```git status```
    
    - Changes not staged for commit, 未暂存的文件
    - Changes to be commited, 已暂存未提交的文件
    - Untracked files, 未被追踪的文件

5. 检查提交历史
```git log```

每条记录包含:

- Commit Hash, 提交记录的唯一id
- Autho & Email, 提交人
- Date, 日期
- Commit Message, 提交注释

### 分支

- ```git branch```, 查看当前所有分支
- ```git branch 分支```, 创建分支; ```git branch 分支1 分支2```, 基于分支2创建分支1.
- ```git checkout xxx```, 切换分支
- ```git merge xxx```, 把xxx分支合并到当前分支
- 分支的工作流程:
    * 短期分支(short-lived)
        + 只涉及单一主题
        + 生命周期短暂
    * 主题分支(topic branches)
        + 代表整个项目周期的一种状态(如: 产品, 测试, 研发等)
        + 不应该直接在该分支上工作, 但是可以整合其他分支到这类分支上
        + master, develop就是例子, 他们之间是分等级的
        + git-flow, 一种流行的分支策略

- 删除分支
    * 删除本地分支: ```git branch -d 分支名```
    * 删除远程分支: ```git branch -dr origin/分支名```

### 存储(stash)

- 原则上, 提交(commit)必须是一个完整的修改, 不允许在未完成之前, 而"暂时提交", 理由明显.
- 那么, 但遇到一个紧急需要修复的bug, 而当前又有未完成的修改, 应该怎么办
- 答案是使用stash, stash相当于一个剪切板, 把当前修改暂存, 等修改完成后, 再把剪切板的内容还原
- ```git stash```, 存储当前内容
```git stash pop```, 弹出存储 
 ```git stash list```, 列出所有存储

- 什么时候使用stash
    * 切换到不同分支之前
    * 获取远程的改动之前(pulling)
    * 合并(mergeing)或者衍合(rebasing)一个分支之前

### 远程仓库

- 与远程库联系: 
```
git remote add origin https://github.com/GrandG/sphinx.git
```
- 添加新建的分支到远程库: 
```
git push -u origin 分支名
```
作用是在上游(upstream)仓库创建分支```origin/master```, 把当前分支和上游分支关联起来, 这样以后直接用```git push```就可以把**所有与远程库关联的分支**上传到对应的远程分支.
