# 树, 各种树

-------------

## 二叉树
- 每个结点包括:
    - 数据域
    - 指向父节点的指针p[x]
    - 指向左孩子的指针left[x]
    - 指向右孩子的指针right[x]
- 还有一个指向根节点的指针root[x]

## 其他叉树
- 对于最大孩子数固定的树, 可以由二叉树的定义推广

## 分支数无限制的树
- 当分支树无限制时, 就不能用二叉树的做法:
    - 分支不确定, 无法预先分配空间
    - 如果限定一个很大的分支树, 则会浪费空间

- 所以采用另外一种结构:
    - 每个结点包括:
        - 数据域
        - 指向父节点的指针p[x]
        - 指向左孩子的指针left-child[x]
        - 指向右兄弟的指针right-silbing[x]
    - 指向树根节点的指针root[x]
- 当left-child[x]=NIL, 结点没有孩子(叶子结点)
- 当right-sibling[x]=NIL, 该结点是其父节点的最右孩子

## 二叉查找树
- 查找树
    - 查找树(search tree)是一种数据结构, 它支持多种动态集合操作, 如SEARCH, MINIMUM, MAXIMUM, INSERT, DELETE, PREDECESSOR, SUCCESSOR
- 二叉查找树(binary search tree)
    - 执行的基本操作的时间与树的高度成正比
    - 结点的左孩子数据域小于或等于结点数据域; 结点的右孩子的数据域大于结点数据域
- 对二叉查找树中序排列, 即把元素按从小到大的顺序排列; 同把中序排列递归的顺序倒转, 先递归右孩子再递归左孩子, 则按从大到小顺序排列
- 如果x是一棵包含n个结点的子树的根, 则调用INORDER-TREE-WALK(中序排列)所需要的时间是O(n)(其实是更苛刻那个). 具体证明看算法导论.

## 查询二叉查找树
- 对于二叉查找树, 最常见的操作是SEARCH(查询), MINIMUM(最小), MAXIMUM(最大), SUCCESSOR(后继), PREDECESSOR(前趋)
- SEARCH(查找)
    - 逐一比较, 简单
    - 时间复杂度等于树的高度    

- MINUMUNM和MAXIMUM(最小和最大)
    - 最小, 一直向左找, 直到为空(用循环而不是用判断(silly))
    - 最大, 一直向右找, 直到为空
    - 时间复杂度等于树的高度    

- SUCCESSOR(后继)和PREDECESSOR(前驱)
    - 在二叉查找树的中序查找中:
        - 某节点的前趋, 等价与找比该节点小的最大的结点
            1. 先找该节点的右孩子树中最左边的叶子节点
            2. 若没有再循环找其父节点, 使该节点是该父节点的左孩子
        - 某节点的后继, 等价于找比该节点大的最小的节点

- 定理: 对于高度为h的二叉树查找树, 动态集合操作: SEARCH, MINIMUM, MAXIMUM, SUCCESSOR, PREDECESSOR的运行时间都是O(h)

## 插入(INSERT)与删除(DELETE)

----------

##  B树(又叫平衡多路查找树)(B for balance)
- 必要的硬件知识
    - 内存, 主存, 内存储器都是一个意思(main memory)
    - 辅存, 外存 即磁盘, 硬盘(external memory)
    - 硬盘中查找数据需要三个坐标:
        - 柱面
        - 盘面
        - 盘块(block)
    - 磁盘读取数据是以盘块为基本单位的, 同一盘块中的数据可以一次性都出来
    - 读写数据的三个步骤(即根据三个坐标的运动):
        1. 根据柱面号把磁头移动相应的柱面上, **这一过程使用的时间最长**, 称为定位或查找
        2. 根据盘面号把所有磁头定位在盘面上
        3. 盘面旋转, 根据盘块号把相应的盘块移动到磁头下, 这里盘片的转速就是硬盘转速(7200rpm, 5400rpm)
    - 因为读写磁盘消耗的时间主要在查找时间上, 因此**相关信息尽可能放在同一磁道, 同一盘块下**, 或者**至少在同一柱面或相邻柱面上**.

- 定义:
    - 对于一个m阶的二叉树, 每个节点最多有m个孩子; 除根节点和叶子结点以外最少含ceil(m/2)个孩子; 
    - 除根节点外, 节点的关键字数最少ceil(m/2)-1个, 最多m-1个. 

- 插入
    - 很简单
    - 只需要记住: 节点的关键字个数最少ceil(m/2)-1个, 最多m-1个; 超出限制的, 把节点**从中间**分裂

- 删除